<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Brief — Backend Compatível com Praxis UI (ex.: .NET)</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Brief — Backend Compatível com Praxis UI (ex.:
.NET)</h1>
</header>
<h1 id="brief-backend-compatível-com-praxis-ui-ex.-.net">Brief — Backend
Compatível com Praxis UI (ex.: .NET)</h1>
<p>Objetivo - Padronizar contrato e metadados (OpenAPI + x‑ui) para que
qualquer backend (ex.: .NET/ASP.NET Core) seja plug‑and‑play com o
frontend Praxis. - Entregar plano, especificação validável (JSON
Schema), suíte de conformidade e uma PoC mínima em .NET.</p>
<p>Escopo de Compatibilidade (mínimo) - Endpoint
<code>GET /schemas/filtered</code> com parâmetros: <code>path</code>,
<code>operation</code>, <code>schemaType</code> (response|request),
<code>includeInternalSchemas</code> (bool), <code>idField</code>
(opcional), <code>readOnly</code> (opcional). - Resposta mescla
<code>x-ui</code> e inclui <code>x-ui.resource</code> {
<code>idField</code>, <code>idFieldValid</code>, <code>readOnly</code>,
<code>capabilities</code> }. - ETag forte e 304 com
<code>If-None-Match</code>; headers: <code>ETag</code>,
<code>X-Schema-Hash</code>,
<code>Access-Control-Expose-Headers: ETag,X-Schema-Hash</code>. -
<code>schemaId</code> inclui:
<code>path|operation|schemaType|internal|tenant|locale</code>. - Grupos
OpenAPI (documento por grupo com fallback para documento completo). -
x‑ui (campo, validações) e x‑ui (operação) com precedência: defaults
<span class="citation" data-cites="UISchema">@UISchema</span> → detecção
(type/format/heurísticas) → valores explícitos <span class="citation"
data-cites="UISchema">@UISchema</span> → Bean Validation →
extraProperties (máxima). - Recursos do controller base: CRUD,
<code>POST /filter</code>, <code>POST /filter/cursor</code>,
<code>POST /locate</code>, <code>POST /options/filter</code>,
<code>GET /options/by-ids</code>, <code>GET /all</code>,
<code>GET /{id}</code>; ordenação padrão e heurística de
<code>idField</code>. - i18n/tenant: <code>Accept-Language</code> e
<code>X-Tenant</code> compõem o <code>schemaId</code> (ETag varia por
idioma/tenant). - Segurança fora do starter (configurar no host;
JWT/OIDC, CORS, CSRF conforme política).</p>
<p>Repositórios locais (referência) - Starter Java (referência):
<code>praxis-metadata-starter/</code> - UI Angular:
<code>praxis/frontend-libs/praxis-ui-workspace/</code> e
<code>praxis-ui-quickstart/</code> - Complementares:
<code>praxis-backend-seed-app/</code>,
<code>praxis-openapi-ui-schema-generator/</code>,
<code>praxis-node/</code></p>
<p>Especificação (machine‑readable) - Esta pasta contém rascunho de JSON
Schemas: - <code>x-ui-field.schema.json</code> — valida
<code>extensions["x-ui"]</code> de propriedades (campo) -
<code>x-ui-operation.schema.json</code> — valida
<code>paths.{path}.{operation}.x-ui</code> -
<code>x-ui-resource.schema.json</code> — valida
<code>x-ui.resource</code> no payload de <code>/schemas/filtered</code>
- README da spec: regras normativas (MUST/SHOULD/MAY), precedência e
SemVer.</p>
<p>Suíte de Conformidade (esperado) - Validar
<code>/schemas/filtered</code> contra os JSON Schemas deste diretório. -
Testar ETag/304, expose headers, variação por
<code>X-Tenant</code>/<code>Accept-Language</code>. - Testes de
<code>filter</code>/<code>filter/cursor</code>/<code>locate</code>/<code>options/by-ids</code>
mínimos.</p>
<p>PoC .NET (esperada) - ASP.NET Core 8+, Swashbuckle, filtros para
injetar <code>x‑ui</code> (campo/operação/recurso). - Canonicalização
determinística e SHA‑256 para ETag forte. - Expansão <code>$ref</code>
quando <code>includeInternalSchemas=true</code>.</p>
<p>Critérios de Aceitação - UI Quickstart consome o backend .NET mudando
apenas <code>baseUrl</code>. - Renderização dinâmica de tabela/form a
partir do contrato (x‑ui), com <code>displayColumns</code>, validações e
options. - ETag/304 operativo; schemaId/headers corretos;
<code>x-ui.resource</code> completo.</p>
<p>Fases do Plano (sugestão) 1) Inventário detalhado (starter + UI
workspace) 2) Fechar JSON Schemas + README (SemVer, precedência) 3)
Design técnico .NET + POCs de cada requisito 4) Implementação PoC .NET +
suíte de conformidade 5) Documentação e guia de adoção para backends
compatíveis</p>
</body>
</html>
