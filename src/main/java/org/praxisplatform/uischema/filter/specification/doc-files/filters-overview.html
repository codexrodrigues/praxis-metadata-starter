<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Praxis — Tour Visual de Filtros</title>
  <style>
    :root { --bg:#ffffff; --fg:#111827; --muted:#6b7280; --card:#f9fafb; --accent:#0ea5e9; }
    @media (prefers-color-scheme: dark){ :root{ --bg:#0f1115; --fg:#e5e7eb; --muted:#9ca3af; --card:#11151b; --accent:#60a5fa; } }
    body{font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif;margin:0;padding:24px;background:var(--bg);color:var(--fg);} 
    h1,h2,h3{margin:.2rem 0 .6rem}
    .muted{color:var(--muted)}
    .card{background:var(--card);padding:16px;border-radius:10px;border:1px solid rgba(148,163,184,.2);margin:12px 0}
    code,pre{background:#1b1f28;color:#e8eaed;padding:.25rem .5rem;border-radius:6px}
    a{color:var(--accent);text-decoration:none}
    table{width:100%;border-collapse:collapse;margin:.6rem 0}
    th,td{border:1px solid rgba(148,163,184,.35);padding:.5rem;text-align:left}
    th{background:rgba(148,163,184,.12)}
  </style>
</head>
<body>
  <h1>Tour Visual — Filtros Dinâmicos</h1>
  <p class="muted">Declare no DTO. O Starter entrega a <strong>Specification JPA</strong> correta — com <strong>26 operações</strong>, relações legíveis e paginação previsível.</p>

  <div class="card">
    <h2>Como pensar (e usar) filtros</h2>
    <ul>
      <li><strong>Declare</strong> no DTO com <code>@Filterable</code> (operação + relation opcional).</li>
      <li><strong>Relacione</strong> com <code>relation="a.b.campo"</code> — joins legíveis, sem dor.</li>
      <li><strong>Combine</strong> operações (texto, intervalos, datas relativas, listas, coleções, nulidade, booleanos).</li>
      <li><strong>Entregue</strong> com os endpoints prontos (<code>POST /filter</code> e <code>/filter/cursor</code>).</li>
    </ul>
  </div>

  <h2>Exemplo rápido</h2>
  <pre><code>public class PedidoFilterDTO implements org.praxisplatform.uischema.filter.dto.GenericFilterDTO {
  @Filterable(operation = Filterable.FilterOperation.LIKE)
  private String cliente;

  @Filterable(operation = Filterable.FilterOperation.BETWEEN)
  private java.util.List&lt;java.time.LocalDate&gt; emissaoEntre; // [de, ate]

  @Filterable(operation = Filterable.FilterOperation.IN_LAST_DAYS)
  private Integer atualizadosUltimosDias; // ex.: 7

  @Filterable(operation = Filterable.FilterOperation.IN)
  private java.util.List&lt;String&gt; canais; // ["ONLINE","LOJA"]

  @Filterable(operation = Filterable.FilterOperation.LIKE, relation = "vendedor.nome")
  private String vendedorNome;
}
  </code></pre>

  <h2>Catálogo (26 operações)</h2>
  <table>
    <tr><th>Categoria</th><th>Operações</th></tr>
    <tr><td>Igualdade</td><td>EQUAL, NOT_EQUAL</td></tr>
    <tr><td>Texto</td><td>LIKE, NOT_LIKE, STARTS_WITH, ENDS_WITH</td></tr>
    <tr><td>Comparações</td><td>GREATER_THAN, GREATER_OR_EQUAL, LESS_THAN, LESS_OR_EQUAL</td></tr>
    <tr><td>Listas</td><td>IN, NOT_IN</td></tr>
    <tr><td>Intervalos</td><td>BETWEEN, BETWEEN_EXCLUSIVE, NOT_BETWEEN, OUTSIDE_RANGE</td></tr>
    <tr><td>Datas</td><td>ON_DATE, IN_LAST_DAYS, IN_NEXT_DAYS</td></tr>
    <tr><td>Coleções</td><td>SIZE_EQ, SIZE_GT, SIZE_LT</td></tr>
    <tr><td>Bool/Nulidade</td><td>IS_TRUE, IS_FALSE, IS_NULL, IS_NOT_NULL</td></tr>
  </table>

  <div class="card">
    <h3>Relações sem dor</h3>
    <p>Use <code>relation="a.b.campo"</code> para filtrar por atributos relacionados. O builder resolve os joins com segurança.</p>
  </div>

  <h2>Chamadas (REST)</h2>
  <pre><code>POST /api/pedidos/filter?page=0&amp;size=20
Content-Type: application/json

{
  "cliente": "maria",
  "emissaoEntre": ["2024-01-01", "2024-12-31"],
  "atualizadosUltimosDias": 7,
  "canais": ["ONLINE", "LOJA"],
  "vendedorNome": "silva"
}
  </code></pre>

  <h2>Saiba mais</h2>
  <ul>
    <li><a href="../annotation/Filterable.html">Javadoc: @Filterable</a></li>
    <li><a href="../specification/GenericSpecificationsBuilder.html">Javadoc: GenericSpecificationsBuilder</a></li>
    <li><a href="../../../../controller/base/AbstractCrudController.html">Javadoc: AbstractCrudController</a></li>
  </ul>
</body>
</html>

